# Template file for 'mangowc'
pkgname=mangowc
version=0.10.5
revision=1
conf_files="/etc/mango/config.conf"
build_style=meson
hostmakedepends="pkg-config wayland-devel"
makedepends="wlroots0.19-devel pcre2-devel scenefx-devel"
depends="$(vopt_if xwayland xorg-server-xwayland)"
short_desc="Dwl-based wayland compositor"
maintainer="dogknowsnx <dogknowsnx@tutamail.com>"
license="GPL-3.0-or-later AND CC0-1.0 AND MIT"
homepage="https://github.com/DreamMaoMao/mangowc"
changelog="https://github.com/DreamMaoMao/mangowc/releases"
distfiles="https://github.com/DreamMaoMao/mangowc/archive/refs/tags/${version}.tar.gz"
checksum=2658454c120cc2d88d25bd105e58337204a84f9e1d418b41ff02983d1354e9ef

build_options="xwayland"
desc_option_xwayland="Enable Xwayland support"

post_install() {
	vinstall mango.desktop 0644 usr/share/wayland-sessions
	vinstall assets/mango-transparency-128.png 0644 usr/share/icons/hicolor/128x128/apps mango.png

	rm -f LICENSE.wlroots
	for l in LICENSE*; do
		vlicense $l
	done
}
